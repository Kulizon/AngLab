<%- include('../partials/boilerplate-start') %>
<link rel="stylesheet" href="css/learn/learn.css" />
<%- include('../partials/boilerplate-end', {loggedUser}) %> <%- include('../partials/header') %>
<main>
  <h2 class="learning-subject">Language Levels</h2>
  <div class="lang-choices">
    <a href="/learn/A1" class="lang-choice">
      <div>
        <h2>A1</h2>
        <div>
          <h5> 0/0</h5>
          <h4>0%</h4>
        </div>
      </div>
    </a>

    <a href="/learn/A2" class="lang-choice">
      <div>
        <h2>A2</h2>
        <div>
          <h5>0/0</h5>
          <h4>0%</h4>
        </div>
      </div>
    </a>

    <a href="/learn/B1" class="lang-choice">
      <div>
        <h2>B1</h2>
        <div>
          <h5>0/0</h5>
          <h4>0%</h4>
        </div>
      </div>
    </a>
    
    <a href="/learn/B2" class="lang-choice">
      <div>
        <h2>B2</h2>
        <div>
          <h5>0/0</h5>
          <h4>0%</h4>
        </div>
      </div>
    </a>


    <a href="/learn/C2" class="lang-choice">
      <div>
        <h2>C2</h2>
        <div>
          <h5>0/0</h5>
          <h4>0%</h4>
        </div>
      </div>
    </a>

    <a href="/learn/C1" class="lang-choice">
      <div>
        <h2>C1</h2>
        <div>
          <h5>0/0</h5>
          <h4>0%</h4>
        </div>
      </div>
    </a>
  </div>

  <h2 class="section-heading">Latest Activity</h2>
  <div class="latest-activity">
  <% if (loggedUser.languageLevelProgress.length > 0 ) { %>
      <% loggedUser.languageLevelProgress.reverse().slice(0, 5).forEach((entry) => { %>
        <a href="/learn/<%=entry.languageLevel%>/study/<%=entry.languageLevelSubject%>/<%=entry.title%>">
        <div class="latest-activity-record">
          <h2><%=entry.languageLevel%></h2>
          <h5><%=entry.languageLevelSubject%></h5>
          <h4><%=entry.title%></h4>
        </div>
        </a>
      <% }) %>
  <% } else { %>
      <h4>No recent activities. Start learning Now!</h4>
    <% } %>
  </div>
  <h2 class="section-heading">Recomendations</h2>
  <div class="recommendations">
    <% if (recommendations.length > 0 ) { %>
      <% recommendations.forEach((entry) => { %>
        <a href="/learn/<%=entry.languageLevel%>/study/<%=entry.subject%>/<%=entry.title%>">
          <div class="recommendation">
            <h2><%=entry.languageLevel%></h2>
            <h5><%=entry.subject%></h5>
            <h4><%=entry.title%></h4>
          </div>
        </a>
        <% }) %>
    <% } else { %>
      <h4>Oops! Something went wrong.</h4>
    <% } %>
    </div>
</main>

<%- include('../partials/contact-info') %>

<script src="/socket.io/socket.io.js"></script>
<script src="/javascript/progress/getProgress.js"></script>
<script src="/javascript/headerMenu.js"></script>

<%- include('../partials/footer') %>
